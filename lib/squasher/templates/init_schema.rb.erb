class InitSchema < ActiveRecord::Migration<%= @config.migration_version %>
  def up
    <%- if defined?(StrongMigrations).present? -%> 
    <%= "    safety_assured { init_schema }" -%>
    <%- else -%>
    <%= "    init_schema" -%>
    <%- end -%>
  end

  def down
    raise ActiveRecord::IrreversibleMigration, "The initial migration is not revertable"
  end

  private
    
    def init_schema
      <%- each_schema_line do |line| -%>
      <%- next if line.strip.empty?  -%>
      <%= "    #{line}" %>
      <%- end -%>
    end
end
